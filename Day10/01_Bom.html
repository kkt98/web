<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bom</title>
</head>
<body>
    
    <!-- Bom(Browser Object Model) -->
    <!-- 1. window (JS의 최상위 객체) -->

    <!-- 주요 메소드들 -->
    <!-- 1) open, close : 새로운 웹문서 열고/닫기 -->
    <button onclick="aaa()">naver</button>
    <script>
        function aaa(){
            // window.open('https://www.naver.com') //기본 target : _blank
            //window.open('https://www.naver.com', '_self') //target

            //새로운 창(window)로 열고싶다면. 사이즈 spec을 주면 됨
            window.open('https://www.naver.com', '_blank', 'width=500, height=200')
        }
    </script>

    <!-- 빈 윈도우 띄우기 -->
    <button onclick="bbb()">message window</button>
    <script>

        function bbb(){
            //새로 열림 윈도우창의 관리객체 window를 리턴받음
            var win = window.open('','','window=500, height=200', 'left=200, top=150')
            win.document.write('<h4>Hello message</h4>')
            win.document.write('<p>This window message window</p>')
        }

    </script>

    <!-- 윈도우 닫기 -->
    <button onclick="ccc()">close window</button>
    <script>

        function ccc(){
            window.close()
        }

    </script>

    <!-- 새로운 윈도우 열고닫기 -->
    <button onclick="ddd()">open</button>
    <button onclick="eee()">close</button>
    <script>
        var w
        function ddd(){
            //window.open()
            //window객체는 최상위 객체로서 생략이 가능함
            w = open('','','width=300, height=150', 'left=100, top=50')
        }

        function eee(){
            w.close()
        }
    </script>

    <hr>

    <!-- 2) moveTo, moveBy -->
    <button onclick="ooo()">open window</button>
    <button onclick="mmm()">move window</button>

    <script>
        function ooo(){
            w = open('', '', 'width = 300, height=200')
            w.document.write('오늘의 특가제품')
            w.moveTo(300,100)
        }

        function mmm(){
            w.moveBy(10,10)
            w.focus()
        }
    </script>

    <hr>

    <h4>set Timeout, set Interval, clear Interval</h4>
    <button onclick="showAlert()">3초 후 경고창 띄우기</button>
    <script>

        function showAlert(){
            window.setTimeout( function(){
                alert('3초 경과')
            }, 3000)
        }

    </script>

    <br>

    <input type="text" id="in1" value="0">
    <button onclick="startCount()">1초마다 카운트 증가</button>
    <button onclick="stopCount()">카운트 종료</button>
    <script>

        function show(){
            var e = document.getElementById('in1')
            e.value = parseInt(e.value)+1
        }

        var a
        function startCount(){
           a = setInterval(show,1000)
        }

        function stopCount(){
            clearInterval(a)
        }

    </script>

    <hr>

    <!-- 기타 유용한 메소드들 -->
    <script>

        //인코딩 함수
        //인터넥 주소창에서는 한글이나 특수문자가 인식되지 않기에 이를 인코딩 하는 작업이 필요함
        var a = window.encodeURI('http://www.test.com/가나 먹고싶다.html')
        document.write(a)
        document.write('<br>')

        //디코딩
        var a1 = decodeURI(a)
        document.write(a1)
        document.write('<hr>')

        //eval() - 문자열을 JS코드처럼 해독하는 메소드
        var x = "10+2*6"
        document.write(x+"<br>")
        var z = eval(x)
        document.write(z+"<br>")

        //isNaN 함수 - 숫자로 바꿀수 있는 값인가
        document.write( isNaN(10) + "<br>" ) //false
        document.write( isNaN('10') + "<br>" ) //false
        document.write( isNaN('Hello') + "<hr>" ) //true

        document.write( 10/2 + "<br>" )
        document.write( 10/0 + "<br>" ) //무한대.Infinity
        document.write( isFinite(10/2) + "<br>" ) //true
        document.write( isFinite(10/0) + "<br>" ) //false

    </script>

    <!-- 2. document : 웹문서페이지를 관리하는 객체 : 이미 수업해서 생략 -->
    <!-- 참고. 원래 document는 window의 멤버객체임 -->
    <!-- 그래서 window.document.write()으로 써야하지만 window를 생략 -->

    <hr>
    <!-- 3. screen -->
    <h2>screen 객체</h2>
    <script>
        
        //모니터의 화면 해상도 정보 [브라우저 사이즈가 아님]
        document.write("화면 해상도 : " + screen.width + ", " + screen.height + "<br>")
        document.write("작업표시줄 제외한 화면 해상도 : " + screen.availWidth + ", " + screen.availHeight + "<br>")

    </script>

    <br>

    <script>
        //브라우저 사이즈를 알고싶다면.
        document.write("브라우저 사이즈(document영역) : " + window.innerWidth + ", " + innerHeight + "<br>")
        document.write("브라우저 전체 사이즈 : " + window.outerWidth + ", " + outerHeight + "<br>")
    </script>

    <!-- 4. location : URL정보 -->
    <hr>
    <h4>location 객체</h4>
    <script>

        //location객체의 주요속성(멤버변수)
        document.write(location.href + "<br>")
        document.write(location.protocol + "<br>")
        document.write(location.pathname + "<br>")

    </script>

    <button onclick="zzz()">새로운 문서 열기</button>
    <button onclick="xxx()">현재문서 다시 문서 열기</button>
    <button onclick="yyy()">새로운 문서 대체하여 열기</button>
    <script>
        function zzz(){
            //location.assign('https://www.naver.com') //'뒤로가기 있음'
            //굳이 assign()메소드를 사용하지 않고 주소 속성값을 변경하는 것을 더 선호
            location.href = "https://www.naver.com"
        }

        function xxx(){
            location.reload() //현재 문서 갱신(새로고침)
        }

        function yyy(){
            location.replace('https://www.naver.com') //'뒤로가기 없음'
        }
    </script>

    <!-- 5. history : 방문 URL기록 -->
    <hr>
    <h4>history 객체</h4>
    <script>
        document.write("방문한 페이지 수 : " + history.length + "<br>")

        function back(){ history.back()}
        function forward(){history.forward()}
        function go(){history.go(-2)}
    </script>

    <button onclick="back()">뒤로가기</button>
    <button onclick="forward()">앞으로가기</button>
    <button onclick="go()">2페이지 뒤로</button>

    <!-- 6. navigator : 브라우저 정보 (지금은 별로 필요성 X 나중에 geolocation등이 위치함) -->
    <hr>
    <h2>navigator 객체</h2>
    <script>
        document.write("브라우저 코드명 : " + navigator.appCodeName + "<br>")
        document.write("브라우저 종류 : " + navigator.appName + "<br>")
        document.write("브라우저 버전 : " + navigator.appVersion + "<br>")
        document.write("브라우저 플랫폼 : " + navigator.platform + "<br>")
    </script>

</body>
</html>